# ============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# Copy to .env.production and fill in actual values
# NEVER commit real secrets - use only .example file in git
# ============================================================================

# ─────────────────────────────────────────────────────────────────────────
# Database Configuration
# ─────────────────────────────────────────────────────────────────────────

# PostgreSQL primary database
# Format: postgresql://username:password@hostname:port/database
# Example: postgresql://user:pass@db.example.com:5432/midst_prod
DATABASE_URL=postgresql://user:password@db-host:5432/midst_prod

# Legacy API-specific database URL (if different)
POSTGRES_URL=postgresql://user:password@db-host:5432/midst_prod

# Orchestrator database (if separate)
# ORCHESTRATOR_DATABASE_URL=postgresql://user:password@db-host:5432/midst_orchestrator

# ─────────────────────────────────────────────────────────────────────────
# Redis Configuration (Caching & Task Queue)
# ─────────────────────────────────────────────────────────────────────────

# Redis connection URL
# Format: redis://[:password@]hostname:port/database
# Example: redis://:password@redis.example.com:6379/0
REDIS_URL=redis://redis-host:6379/0

# ─────────────────────────────────────────────────────────────────────────
# Stripe Integration (Payment Processing)
# ─────────────────────────────────────────────────────────────────────────

# Stripe live secret key (sk_live_...)
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_YOUR_STRIPE_SECRET_KEY_HERE

# Stripe webhook endpoint secret
# Get from: https://dashboard.stripe.com/webhooks (create endpoint for /webhooks/stripe)
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET_HERE

# Price IDs for subscription tiers (get from Stripe dashboard)
STRIPE_PRO_MONTHLY=price_YOUR_PRO_MONTHLY_PRICE_ID
STRIPE_PRO_YEARLY=price_YOUR_PRO_YEARLY_PRICE_ID
STRIPE_ENTERPRISE_MONTHLY=price_YOUR_ENTERPRISE_MONTHLY_PRICE_ID
STRIPE_ENTERPRISE_YEARLY=price_YOUR_ENTERPRISE_YEARLY_PRICE_ID

# ─────────────────────────────────────────────────────────────────────────
# Authentication & Security
# ─────────────────────────────────────────────────────────────────────────

# JWT secret for signing tokens (generate: `node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"`)
JWT_SECRET=your_256_bit_random_jwt_secret_here

# Encryption key for sensitive profile data (same format as JWT_SECRET)
PROFILE_KEY_ENC_KEY=your_256_bit_random_encryption_key_here

# Session secret for secure cookies
SESSION_SECRET=your_256_bit_random_session_secret_here

# ─────────────────────────────────────────────────────────────────────────
# Cross-Origin Resource Sharing (CORS)
# ─────────────────────────────────────────────────────────────────────────

# Allowed origins for CORS (comma-separated)
# Example: https://app.yourdomain.com,https://yourdomain.com
ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com,https://staging.yourdomain.com

# ─────────────────────────────────────────────────────────────────────────
# Application Configuration
# ─────────────────────────────────────────────────────────────────────────

# Environment (development, staging, production)
NODE_ENV=production

# Server ports
API_PORT=3001
ORCHESTRATOR_PORT=3002
WEB_PORT=3000

# Base URLs for API and frontend
API_BASE_URL=https://api.yourdomain.com
WEB_BASE_URL=https://app.yourdomain.com

# ─────────────────────────────────────────────────────────────────────────
# Observability & Monitoring
# ─────────────────────────────────────────────────────────────────────────

# Sentry error tracking
# Get from: https://sentry.io
SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id

# Log level (trace, debug, info, warn, error, fatal)
LOG_LEVEL=info

# Enable structured logging (JSON format)
STRUCTURED_LOGGING=true

# ─────────────────────────────────────────────────────────────────────────
# Feature Flags
# ─────────────────────────────────────────────────────────────────────────

# Enable/disable Hunter Protocol features
FEATURE_HUNTER_ENABLED=true
FEATURE_AUTO_APPLY_ENABLED=true

# ─────────────────────────────────────────────────────────────────────────
# External Services (Optional)
# ─────────────────────────────────────────────────────────────────────────

# GitHub integration (for resume ingestion)
GITHUB_TOKEN=ghp_your_github_personal_access_token
GITHUB_API_BASE=https://api.github.com

# LinkedIn (for job search, if implemented)
# LINKEDIN_API_KEY=your_linkedin_api_key

# Email service (for notifications)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=SG.your_sendgrid_api_key

# ─────────────────────────────────────────────────────────────────────────
# Database Backups
# ─────────────────────────────────────────────────────────────────────────

# S3 bucket for database backups
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
BACKUP_S3_KEY_ID=your_aws_access_key
BACKUP_S3_SECRET_KEY=your_aws_secret_key

# ─────────────────────────────────────────────────────────────────────────
# Development & Debug (NEVER in production)
# ─────────────────────────────────────────────────────────────────────────

# Debug mode (enable: may slow down performance)
DEBUG=false

# Enable request logging
REQUEST_LOGGING=true

# ============================================================================
# VALIDATION
# ============================================================================
# Run: pnpm validate-env
# This will check all required variables are set
